window._kentbar = {basedir: false};

!function(){var a=function(){this.dom="",this.basedir="//static.kent.ac.uk/navbar/",this.services=[{name:"Student email",url:"https://live.kent.ac.uk",icon:"kf-email"},{name:"Timetables",url:"https://www.kent.ac.uk/student/my-study/",icon:"kf-timetables"},{name:"Moodle",url:"https://moodle.kent.ac.uk",icon:"kf-moodle"},{name:"Student SDS",url:"https://sds.kent.ac.uk",icon:"kf-sds"},{name:"LibrarySearch",url:"http://librarysearch.kent.ac.uk",icon:"kf-library-search"},{name:"Staff/PGR email",url:"https://owa.connect.kent.ac.uk",icon:"kf-email"}],this.navlinks='<li><a role="button" aria-label="View Systems and Services" aria-controls="khl-service-list" href="#" class="menu-link-dropdown">Kent systems and services</a></li>',this.init=function(){if("undefined"!=typeof window._kentbar){var a=window._kentbar;"undefined"!=typeof a.basedir&&(this.basedir=a.basedir),"undefined"!=typeof a.services&&(this.services=a.services),"undefined"!=typeof a.navlinks&&(this.navlinks=a.navlinks)}else window._kentbar={};this.basedir!==!1&&this.insertStylesheet(),this.createKentBar()},this.insertStylesheet=function(){var a=document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.href=this.basedir+"kent-header-light.css?v=1422974936",document.getElementsByTagName("head")[0].appendChild(a),ieV=this.getInternetExplorerVersion(),ieV>-1&&ieV<9&&(a=document.createElement("link"),a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.href=this.basedir+"kent-header-font-ie8.css",document.getElementsByTagName("head")[0].appendChild(a))},this.getInternetExplorerVersion=function(){var a=-1;if("Microsoft Internet Explorer"==navigator.appName){var b=navigator.userAgent,c=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!==c.exec(b)&&(a=parseFloat(RegExp.$1))}return a},this.createKentBar=function(){this.dom=this.buildHeaderBar();var a=this.dom.firstChild,b=a.querySelector(".menu-link-dropdown");if(null!==b){a.appendChild(this.createServicesDropdown());var c=a.children[1];this.addEvent(b,"click",function(a){a.preventDefault?a.preventDefault():a.returnValue=!1,"block"==c.style.display?(c.style.display="none",b.parentNode.className=""):(c.style.display="block",b.parentNode.className="open")}),this.addEvent(document,"click",function(a){var d="undefined"!=typeof a.target?a.target:a.srcElement;"menu-link-dropdown"!=d.className&&"block"==c.style.display&&(c.style.display="none",b.parentNode.className="")})}document.body.insertBefore(this.dom,document.body.childNodes[0])},this.createServicesDropdown=function(){var a='<div id="khl-service-list" class="service-list" style="display:none;">';a+='<span class="menu-arrow"></span>',a+='<ul class="top-links">',a+='<li><a href="http://www.kent.ac.uk/student/" target="_blank" aria-label="Go to Student guide">Student Guide</a></li>',a+='<li><a href="http://www.kent.ac.uk/campusonline/" target="_blank" aria-label="Go to Campus online">Staff homepage</a></li>',a+="</ul>",a+='<ul class="key-links">';for(var b=0;b<this.services.length;b++)a+='<li><a target="_blank" href="'+this.services[b].url+'" aria-label="Go to '+this.services[b].name+'"><span class="'+this.services[b].icon+'"></span>'+this.services[b].name+(this.services[b].info?' <span class="system-info">('+this.services[b].info+")</span>":"")+"</a></li>";return a+="</ul>",a+='<a class="more-link" aria-label="More systems and services are available on the Student Guide" target="_blank" href="http://www.kent.ac.uk/student#more-systems">More systems and services</a>',a+="</div>",this.createFragment(a)},this.buildHeaderBar=function(){var a='<div id="kent-bar"'+this.buildHeaderBarStyle()+">";return a+="<div>",a+='<a href="http://www.kent.ac.uk" target="_blank" class="khl-logo" title="University of Kent website homepage"><span>University of Kent</span></a>',a+='<ul class="khl-nav">',a+=this.navlinks,a+="</ul>",a+="</div>",a+="</div>",this.createFragment(a)},this.buildHeaderBarStyle=function(){return styles=[],"undefined"!=typeof window._kentbar.bg_color&&styles.push("background-color: "+window._kentbar.bg_color+";"),"undefined"!=typeof window.getComputedStyle&&(bodystyle=window.getComputedStyle(document.body),"0px"!=bodystyle.marginLeft&&styles.push("margin-left: -"+bodystyle.marginLeft+";"),"0px"!=bodystyle.marginRight&&styles.push("margin-right: -"+bodystyle.marginRight+";"),"0px"!=bodystyle.paddingLeft&&styles.push("margin-left: -"+bodystyle.paddingLeft+";"),"0px"!=bodystyle.paddingRight&&styles.push("margin-right: -"+bodystyle.paddingRight+";")),style="",styles.length>0&&(style=' style="'+styles.join(" ")+'"'),style},this.createFragment=function(a){var b=document.createDocumentFragment(),c=document.createElement("div");for(c.innerHTML=a;c.firstChild;)b.appendChild(c.firstChild);return b},this.addEvent=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a[b]=c},this.initAnalytics=function(){!function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script","//www.google-analytics.com/analytics.js","kb_ga"),kb_ga("create","UA-54179016-2",{name:"kbtracker",cookieDomain:"auto"}),kb_ga("kbtracker.require","displayfeatures"),kb_ga("kbtracker.send","pageview");for(var a=document.getElementById("kent-bar").getElementsByTagName("a"),b=0;b<a.length;b++)this.sendAnalyticsClickEvent(a[b])},this.sendAnalyticsClickEvent=function(a){this.addEvent(a,"click",function(){if(this.href)try{kb_ga("kbtracker.send","event","button","click",this.innerHTML+": "+this.href)}catch(a){}})}},b=new a;b.init()}();